<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
 
<mapper namespace="com.lizhao.pojo">
       <resultMap type="Category" id="categoryMap">
          <id column="cid" property="id" />
          <result column="name" property="name" />
          
          <collection property="products" ofType="Product">
            <id column="pid"  property="id" />
            <result column="pname"  property="name" />
            <result column="price"  property="price" />
          </collection>
       </resultMap>
       
       <select id="listCategory"  resultMap="categoryMap">
           select c.*,p.*,
           c.id as "cid",
           p.id as "pid",
           c.name as "cname",
           p.name as "pname" 
           from category_ c left join product_ p on c.id = pid
       </select>

			  <select id="selectAll" resultType="Category">
			    select * from category_
			  </select>
			                                            <!--此处出字母大小写都可  -->
	     <insert id="addCategory" parameterType="Category" useGeneratedKeys="true" keyProperty="id" >
	            insert into category_ ( name ) values (#{name})   
	        </insert>
	         
	        <delete id="deleteCategory" parameterType="Category" >
	            delete from category_ where id= #{id}  
	        </delete>
	         
	        <select id="getCategory" parameterType="_int" resultType="Category">
	            select * from   category_  where id= #{id}   
	        </select>
	        <update id="updateCategory" parameterType="Category" >
	            update category_ set name=#{name} where id=#{id}   
	        </update>
	        
        
</mapper>